include header.jade
link(rel='stylesheet', href='bower_components/textAngular/dist/textAngular.css')
link(rel='stylesheet', href='bower_components/font-awesome/css/font-awesome.css')
body.greyish(ng-app='infoApp' ng-controller='infoCtrl')
	include ./navbars/main.jade
	include ./navbars/sub.jade
	include ./navbars/admin.jade

	#info.container
		.col-md-offset-1.col-md-10
			div.row.ng-cloak
				.col-md-12
					button.btn.btn-primary(ng-click='save()' ng-show='edit_all') SAVE
					button.btn(ng-click='editAll()' ng-show='!edit_all') EDIT
					button.btn(ng-click='editAll()' ng-show='edit_all') DISCARD CHANGES
			hr
			div.row
				div.col-md-12
					h3.section-title Company Background
					br
					pre(ng-show='!edit_all')
						p(ng-bind='campaign.background') Loading background...
					pre(ng-show='!edit_all')
						p(ng-bind='campaign.website') Loading website...
					textarea.form-control.ng-cloak(rows='5', placeholder='Give some background on your company - what do you do, how do you do it, what makes you special?' ng-model='campaign.background' ng-show='edit_all')
					input.form-control.ng-cloak(placeholder='website',type='text' ng-model='campaign.website' ng-show='edit_all')

			hr
			div.row
				div.col-md-12
					h3.section-title Target demographic
					br
					pre(ng-show='!edit_all')
						p(ng-bind='campaign.demographic') Loading demographic...
					textarea.form-control.ng-cloak(rows='5', placeholder='Who are you targetting in this campaign? Are there a few key "personas" with different needs?' ng-model='campaign.demographic' ng-show='edit_all')
			hr
			div.row
				div.col-md-12
					h3.section-title Objective
					br
					pre(ng-show='!edit_all')
						p(ng-bind='campaign.objective') Loading objective...
					textarea.form-control.ng-cloak(rows='5', placeholder="What's your objective? For instance: finding leads with need X, getting appointments booked for a demo etc." ng-model='campaign.objective' ng-show='edit_all')
			hr
			div.row
				div.col-md-12
					h3.section-title Score definition
					br
					strong Agents can score leads from 0 to 3 stars. Define what each score means.
					br
					|For example:
					br
					|0 = Not interested, 3 = Appointment booked
					hr
					pre(ng-show='!edit_all')
						p(ng-bind='"0. "+campaign.score_definition.zero') Loading...
					pre(ng-show='!edit_all')
						p(ng-bind='"1. "+campaign.score_definition.one') Loading...
					pre(ng-show='!edit_all')
						p(ng-bind='"2. "+campaign.score_definition.two') Loading...
					pre(ng-show='!edit_all')
						p(ng-bind='"3. "+campaign.score_definition.three') Loading...
					div.input-group.ng-cloak(ng-show='edit_all')
						span#zero.input-group-addon 0
						input.form-control(type='text', placeholder='', aria-describedby='zero' ng-model='campaign.score_definition.zero')
					div.input-group.ng-cloak(ng-show='edit_all')
						span#one.input-group-addon 1
						input.form-control(type='text', placeholder='', aria-describedby='one' ng-model='campaign.score_definition.one')
					div.input-group.ng-cloak(ng-show='edit_all')
						span#two.input-group-addon 2
						input.form-control(type='text', placeholder='', aria-describedby='two' ng-model='campaign.score_definition.two')
					div.input-group.ng-cloak(ng-show='edit_all')
						span#three.input-group-addon 3
						input.form-control(type='text', placeholder='', aria-describedby='three' ng-model='campaign.score_definition.three')
			hr
			div.row
				div.col-md-12
					h3.section-title Pricing Info
					br
					pre(ng-show='!edit_all')
						p(ng-bind='campaign.pricing') Loading pricing info...
					textarea.form-control.ng-cloak(rows='5', placeholder="How do you price your service?" ng-model='campaign.pricing' ng-show='edit_all')
			hr
			div.row
				div.col-md-12
					h3.section-title Follow up email
					br
					pre.ng-cloak(ng-show='!edit_all')
						p(ng-bind='"From: " + campaign.from_email.email')
					input.ng-cloak.form-control(type='text', placeholder='From email...' ng-model='campaign.from_email.email' ng-show='edit_all')
					br
					pre.ng-cloak(ng-show='!edit_all')
						div(ng-bind-html='modal.follow_up_email')
					button.ng-cloak.btn.btn-success(ng-show='edit_all' ng-click='showFollowUpModal()') EDIT FOLLOW UP EMAIL
			hr
			div.row
				div.col-md-12
					h3.section-title Your contact info
				div.col-md-6
					pre(ng-show='!edit_all')
						p(ng-bind='campaign.contact_info.name') Loading...
					input.form-control.ng-cloak(type='text',placeholder='Name of in-house contact' ng-model='campaign.contact_info.name' ng-show='edit_all')
				div.col-md-6
					pre(ng-show='!edit_all')
						p(ng-bind='campaign.contact_info.role') Loading...
					input.form-control.ng-cloak(type='text',placeholder='Role/Job Title' ng-model='campaign.contact_info.role' ng-show='edit_all')
				div.col-md-6
					pre(ng-show='!edit_all')
						p(ng-bind='campaign.contact_info.phone') Loading...
					input.form-control.ng-cloak(type='text',placeholder='Phone Number' ng-model='campaign.contact_info.phone' ng-show='edit_all')
				div.col-md-6
					pre(ng-show='!edit_all')
						p(ng-bind='campaign.contact_info.email') Loading...
					input.form-control.ng-cloak(type='text',placeholder='Email' ng-model='campaign.contact_info.email' ng-show='edit_all')
			hr
			div.row
				div.col-md-12
					h3.section-title Lead qualification questions
					br
					strong List questions that you want the agents to get answered here e.g. "Do you anticipate needing X in the next 3 months?"
					br
					|You can add up to six questions.
					br
			div.row.ng-cloak(ng-repeat='question in campaign.questions')
				div.col-md-12
					h4 {{$index+1}}
					button.close(ng-click='deleteQuestion($index)' ng-show='edit_all') REMOVE QUESTION
					strong Question
					pre(ng-show='!edit_all')
						p {{question.question}}
					textarea.form-control(rows='2' ng-model='question.question' placeholder='What is your question?' ng-show='edit_all')
					strong Description
					pre(ng-show='!edit_all')
						p {{question.description}}
					textarea.form-control(rows='2' ng-model='question.description' placeholder='Why do you want this information?' ng-show='edit_all')
			div.row.ng-cloak(ng-show='edit_all && campaign.questions.length < 6')
				div.col-md-12
					button.btn.btn-success(ng-click='addQuestion()') ADD NEW QUALIFICATION QUESTION
			hr
			div.row
				div.col-md-12
					h3.section-title FAQ
					br
					strong Create a FAQ for calling agents
					br
			div.row.ng-cloak(ng-repeat='faq in campaign.faqs')
				div.col-md-12
					h4 {{$index+1}}
					button.close(ng-click='deleteFAQ($index)' ng-show='edit_all') REMOVE FAQ
					|Question
					pre(ng-show='!edit_all')
						p {{faq.question}}
					textarea.form-control(rows='2' ng-model='faq.question' placeholder='What is your question?' ng-show='edit_all')
					|Answer
					pre(ng-show='!edit_all')
						p {{faq.answer}}
					textarea.form-control(rows='2' ng-model='faq.answer' placeholder='What is the answer?' ng-show='edit_all')
			div.row.ng-cloak(ng-show='edit_all')
				div.col-md-12
					button.btn.btn-success(ng-click='addFAQ()') ADD NEW FAQ
			hr
			div.row.ng-cloak
				.col-md-12
					button.btn.btn-primary(ng-click='save()' ng-show='edit_all') SAVE
					button.btn(ng-click='editAll()' ng-show='!edit_all') EDIT
					button.btn(ng-click='editAll()' ng-show='edit_all') DISCARD CHANGES
		.col-md-1

	// /container

	include footer.jade
	script(src='client/js/info.js')
	script(src='bower_components/textAngular/dist/textAngular-rangy.min.js')
	script(src='bower_components/textAngular/dist/textAngular-sanitize.min.js')
	script(src='bower_components/textAngular/dist/textAngular.min.js')